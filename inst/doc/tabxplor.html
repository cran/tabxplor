<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Introduction to tabxplor</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<script>$(document).ready(function(){
    if (typeof $('[data-toggle="tooltip"]').tooltip === 'function') {
        $('[data-toggle="tooltip"]').tooltip();
    }
    if ($('[data-toggle="popover"]').popover === 'function') {
        $('[data-toggle="popover"]').popover();
    }
});
</script>
<style type="text/css">
.lightable-minimal {
border-collapse: separate;
border-spacing: 16px 1px;
width: 100%;
margin-bottom: 10px;
}
.lightable-minimal td {
margin-left: 5px;
margin-right: 5px;
}
.lightable-minimal th {
margin-left: 5px;
margin-right: 5px;
}
.lightable-minimal thead tr:last-child th {
border-bottom: 2px solid #00000050;
empty-cells: hide;
}
.lightable-minimal tbody tr:first-child td {
padding-top: 0.5em;
}
.lightable-minimal.lightable-hover tbody tr:hover {
background-color: #f5f5f5;
}
.lightable-minimal.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-classic {
border-top: 0.16em solid #111111;
border-bottom: 0.16em solid #111111;
width: 100%;
margin-bottom: 10px;
margin: 10px 5px;
}
.lightable-classic tfoot tr td {
border: 0;
}
.lightable-classic tfoot tr:first-child td {
border-top: 0.14em solid #111111;
}
.lightable-classic caption {
color: #222222;
}
.lightable-classic td {
padding-left: 5px;
padding-right: 5px;
color: #222222;
}
.lightable-classic th {
padding-left: 5px;
padding-right: 5px;
font-weight: normal;
color: #222222;
}
.lightable-classic thead tr:last-child th {
border-bottom: 0.10em solid #111111;
}
.lightable-classic.lightable-hover tbody tr:hover {
background-color: #F9EEC1;
}
.lightable-classic.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-classic-2 {
border-top: 3px double #111111;
border-bottom: 3px double #111111;
width: 100%;
margin-bottom: 10px;
}
.lightable-classic-2 tfoot tr td {
border: 0;
}
.lightable-classic-2 tfoot tr:first-child td {
border-top: 3px double #111111;
}
.lightable-classic-2 caption {
color: #222222;
}
.lightable-classic-2 td {
padding-left: 5px;
padding-right: 5px;
color: #222222;
}
.lightable-classic-2 th {
padding-left: 5px;
padding-right: 5px;
font-weight: normal;
color: #222222;
}
.lightable-classic-2 tbody tr:last-child td {
border-bottom: 3px double #111111;
}
.lightable-classic-2 thead tr:last-child th {
border-bottom: 1px solid #111111;
}
.lightable-classic-2.lightable-hover tbody tr:hover {
background-color: #F9EEC1;
}
.lightable-classic-2.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-material {
min-width: 100%;
white-space: nowrap;
table-layout: fixed;
font-family: Roboto, sans-serif;
border: 1px solid #EEE;
border-collapse: collapse;
margin-bottom: 10px;
}
.lightable-material tfoot tr td {
border: 0;
}
.lightable-material tfoot tr:first-child td {
border-top: 1px solid #EEE;
}
.lightable-material th {
height: 56px;
padding-left: 16px;
padding-right: 16px;
}
.lightable-material td {
height: 52px;
padding-left: 16px;
padding-right: 16px;
border-top: 1px solid #eeeeee;
}
.lightable-material.lightable-hover tbody tr:hover {
background-color: #f5f5f5;
}
.lightable-material.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-material.lightable-striped tbody td {
border: 0;
}
.lightable-material.lightable-striped thead tr:last-child th {
border-bottom: 1px solid #ddd;
}
.lightable-material-dark {
min-width: 100%;
white-space: nowrap;
table-layout: fixed;
font-family: Roboto, sans-serif;
border: 1px solid #FFFFFF12;
border-collapse: collapse;
margin-bottom: 10px;
background-color: #363640;
}
.lightable-material-dark tfoot tr td {
border: 0;
}
.lightable-material-dark tfoot tr:first-child td {
border-top: 1px solid #FFFFFF12;
}
.lightable-material-dark th {
height: 56px;
padding-left: 16px;
padding-right: 16px;
color: #FFFFFF60;
}
.lightable-material-dark td {
height: 52px;
padding-left: 16px;
padding-right: 16px;
color: #FFFFFF;
border-top: 1px solid #FFFFFF12;
}
.lightable-material-dark.lightable-hover tbody tr:hover {
background-color: #FFFFFF12;
}
.lightable-material-dark.lightable-striped tbody tr:nth-child(even) {
background-color: #FFFFFF12;
}
.lightable-material-dark.lightable-striped tbody td {
border: 0;
}
.lightable-material-dark.lightable-striped thead tr:last-child th {
border-bottom: 1px solid #FFFFFF12;
}
.lightable-paper {
width: 100%;
margin-bottom: 10px;
color: #444;
}
.lightable-paper tfoot tr td {
border: 0;
}
.lightable-paper tfoot tr:first-child td {
border-top: 1px solid #00000020;
}
.lightable-paper thead tr:last-child th {
color: #666;
vertical-align: bottom;
border-bottom: 1px solid #00000020;
line-height: 1.15em;
padding: 10px 5px;
}
.lightable-paper td {
vertical-align: middle;
border-bottom: 1px solid #00000010;
line-height: 1.15em;
padding: 7px 5px;
}
.lightable-paper.lightable-hover tbody tr:hover {
background-color: #F9EEC1;
}
.lightable-paper.lightable-striped tbody tr:nth-child(even) {
background-color: #00000008;
}
.lightable-paper.lightable-striped tbody td {
border: 0;
}
</style>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Introduction to tabxplor</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tabxplor)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set_color_style</span>(<span class="at">type =</span> <span class="st">&quot;text&quot;</span>, <span class="at">theme =</span> <span class="st">&quot;light&quot;</span>)</span></code></pre></div>
<style type="text/css">
.lightable-classic tfoot {
  font-size: 90%;
}
</style>
<p><code>tabxplor</code> tries to make it easy to deal with multiple
cross-tables: to create and manipulate them, but also to read them,
using color helpers to highlight important informations, and simplify
your experience of data exploration. All functions are
<code>tidyverse</code> propelled, pipe-friendly, and render
<code>tibble</code> data frames which can be easily manipulated with
<code>dplyr</code>. Tables can be exported to Excel and in html with
formats and colors.</p>
<div id="base-usage-cross-tables-with-color-helpers-for-data-exploration" class="section level2">
<h2>Base usage: cross-tables with color helpers for data
exploration</h2>
<p>The main functions are made to be user-friendly and time-saving is
data analysis workflows.</p>
<p><code>tab</code> makes a simple cross-table:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(forcats<span class="sc">::</span>gss_cat, marital, race)</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;"># A tabxplor tab: 7 × 5</span>
#&gt;   marital       Other Black  White  Total
#&gt;   <span style="color: #555555; font-style: italic;">&lt;fct&gt; </span>          <span style="color: #555555; font-style: italic;">&lt;n&gt;</span>   <span style="color: #555555; font-style: italic;">&lt;n&gt;</span>    <span style="color: #555555; font-style: italic;">&lt;n&gt;</span>    <span style="color: #555555; font-style: italic;">&lt;n&gt;</span>
#&gt; <span style="color: #555555;">1</span> No answer         2     2     13     17
#&gt; <span style="color: #555555;">2</span> Never married   633 1 305  3 478  5 416
#&gt; <span style="color: #555555;">3</span> Separated       110   196    437    743
#&gt; <span style="color: #555555;">4</span> Divorced        212   495  2 676  3 383
#&gt; <span style="color: #555555;">5</span> Widowed          70   262  1 475  1 807
#&gt; <span style="color: #555555;">6</span> Married         932   869  8 316 10 117
#&gt; <span style="color: #555555;">7</span> Total         1 959 3 129 16 395 21 483
</code></pre>
<p>When one of the row or column variables is numeric, <code>tab</code>
calculates means by category of the other variable.</p>
<p><code>tab</code> comes with options to weight the table, print
percentages, manage totals, digits and missing values, add legends,
gather rare categories in a “Others” level.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(forcats<span class="sc">::</span>gss_cat, marital, race, <span class="at">pct =</span> <span class="st">&quot;row&quot;</span>, <span class="at">na =</span> <span class="st">&quot;drop&quot;</span>, <span class="at">subtext =</span> gss,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="at">rare_to_other =</span> <span class="cn">TRUE</span>, <span class="at">n_min =</span> <span class="dv">1000</span>, <span class="at">other_level =</span> <span class="st">&quot;Custom_other_level_name&quot;</span>)</span></code></pre></div>
<p>When a third variable is provided, <code>tab</code> makes a table
with as many subtables as it has levels. With several
<code>tab_vars</code>, it makes a subtable for each combination of their
levels. The result is grouped: in <code>dplyr</code>, operations like
<code>sum()</code> or <code>all()</code> are done within each subtable,
and not for the whole dataframe.</p>
<p>Colors may be added to highlight over-represented and
under-represented cells, and therefore help the user read the table. By
default, with <code>color = &quot;diff&quot;</code>, colors are based on the
differences between a cell and it’s related total (which only works with
means and row or col pct). When a percentage is superior to the average
percentage of the line or column, it appears with shades of green (or
blue). When it’s inferior, it appears with shades of red/orange. A color
legend is added below the table. In RStudio colors are adapted to the
theme, light or dark.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> forcats<span class="sc">::</span>gss_cat <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">2006</span>, <span class="dv">2012</span>), <span class="sc">!</span>marital <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;No answer&quot;</span>, <span class="st">&quot;Widowed&quot;</span>))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>gss  <span class="ot">&lt;-</span> <span class="st">&quot;Source: General social survey 2000-2014&quot;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>gss2 <span class="ot">&lt;-</span> <span class="st">&quot;Source: General social survey 2000, 2006 and 2012&quot;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(data, race, marital, year, <span class="at">subtext =</span> gss2, <span class="at">pct =</span> <span class="st">&quot;row&quot;</span>, <span class="at">color =</span> <span class="st">&quot;diff&quot;</span>)</span></code></pre></div>
<table style="border-top: 0; border-bottom: 0; font-family: DejaVu Sans Condensed; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-classic lightable-hover">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
race
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Never married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Separated
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Divorced
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Other
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +8% ; n: 60">36%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; n: 8">5%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -5% ; n: 20">12%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -3% ; n: 78">47%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 166">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Black
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #00bcd4 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +13% ; n: 157">41%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +7% ; n: 43">11%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -2% ; n: 60">16%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #FF8138 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -18% ; n: 121">32%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 381">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
White
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -3% ; n: 495">25%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 61">3%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 361">18%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +4% ; n: 1 079">54%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 1 996">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;">
TOTAL 2000
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 712">28%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 112">4%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 441">17%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 1 278">50%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 2 543">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Other
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +3% ; n: 165">29%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +3% ; n: 40">7%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -6% ; n: 65">11%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; n: 302">53%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 572">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Black
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1e88e5 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +20% ; n: 270">47%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; n: 35">6%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ; n: 102">18%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ff3d00 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -23% ; n: 173">30%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 580">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
White
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -4% ; n: 645">22%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 81">3%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 565">19%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +4% ; n: 1 695">57%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 2 986">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;">
TOTAL 2006
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 1 080">26%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 156">4%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 732">18%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 2 170">52%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 4 138">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Other
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +8% ; n: 70">37%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; n: 11">6%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #FF8138 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -11% ; n: 13">7%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 96">51%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 190">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Black
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #00bcd4 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +14% ; n: 120">43%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 13">5%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +4% ; n: 59">21%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #FF8138 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -19% ; n: 85">31%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 277">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
White
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -4% ; n: 336">25%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ; n: 44">3%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 245">18%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +4% ; n: 719">53%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 1 344">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;">
TOTAL 2012
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 526">29%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 68">4%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 317">18%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 900">50%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 1 811">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;border-bottom: 1px solid">
TOTAL ENSEMBLE
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 2 318">27%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 336">4%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 1 490">18%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 4 348">51%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 8 492">100%</span>
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> <span style="     color: #888888 !important;">marital:
</span>x &gt; tot <b><span style="     color: #1AE6D6 !important;">+5%</span></b>; <b><span style="     color: #00bcd4 !important;">+10%</span></b>; <b><span style="     color: #1e88e5 !important;">+20%</span></b>; <b><span style="     color: #0019ff !important;">+30%</span></b>; x &lt; tot
<b><span style="     color: #ffb300 !important;">-5%</span></b>;
<b><span style="     color: #FF8138 !important;">-10%</span></b>;
<b><span style="     color: #ff3d00 !important;">-20%</span></b>;
<b><span style="     color: #cb0000 !important;">-30%</span></b>
</td>
</tr>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> Source: General social survey 2000, 2006 and 2012
</td>
</tr>
</tfoot>
</table>
<p>The <code>sup_cols</code> argument adds supplementary column
variables to the table. With numeric variables, it calculates the mean
for each category or the row variable. With text variables, only the
first level is kept (you can choose which one to use by placing it first
with <code>forcats::fct_relevel</code>). Use <code>tab_many</code> to
keep all levels.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(dplyr<span class="sc">::</span>storms, category, status, <span class="at">sup_cols =</span> <span class="fu">c</span>(<span class="st">&quot;pressure&quot;</span>, <span class="st">&quot;wind&quot;</span>))</span></code></pre></div>
<table style="border-top: 0; border-bottom: 0; font-family: DejaVu Sans Condensed; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-classic lightable-hover">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
category
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
hurricane
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
tropical depression
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
tropical storm
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Total
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
pressure
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
wind
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
-1
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>2 898</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 2 898">2 898</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×1.0 ; n: 2 898">1 008</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×0.5 ; n: 2 898">27</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
0
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>5 347</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 5 347">5 347</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×1.0 ; n: 5 347">999</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×0.9 ; n: 5 347">46</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
1
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>1 933</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>1</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>1 934</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×1.0 ; n: 1 934">981</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×1.3 ; n: 1 934">71</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
2
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>749</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>749</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×1.0 ; n: 749">967</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×1.7 ; n: 749">89</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
3
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>434</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>434</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×1.0 ; n: 434">954</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×1.9 ; n: 434">104</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
4
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>411</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>411</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×0.9 ; n: 411">939</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×2.3 ; n: 411">122</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
5
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>86</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 0">0</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>86</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×0.9 ; n: 86">917</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×2.7 ; n: 86">146</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;border-bottom: 1px solid">
Total
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 3 613">3 613</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>2 898</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 5 348">5 348</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 11 859">11 859</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 11 859">992</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 11 859">54</span>
</td>
</tr>
</tbody>
</table>
</div>
<div id="references-and-comparison-levels-for-colors" class="section level2">
<h2>References and comparison levels for colors</h2>
<p>By default, to calculate colors, each cell is compared to the
subtable’s related total.</p>
<p>When a third variable or more are provided, it’s possible to compare
with the general total line instead, by setting
<code>comp = &quot;all&quot;</code>. Here, only the last total row is highlighted
(TOTAL ENSEMBLE appears in white but other total rows in grey).</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(data, race, marital, year, <span class="at">subtext =</span> gss2, <span class="at">pct =</span> <span class="st">&quot;row&quot;</span>, <span class="at">color =</span> <span class="st">&quot;diff&quot;</span>, <span class="at">comp =</span> <span class="st">&quot;all&quot;</span>)</span></code></pre></div>
<table style="border-top: 0; border-bottom: 0; font-family: DejaVu Sans Condensed; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-classic lightable-hover">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
race
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Never married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Separated
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Divorced
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Other
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +9% ; n: 60">36%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 8">5%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -5% ; n: 20">12%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -4% ; n: 78">47%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 166">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Black
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #00bcd4 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +14% ; n: 157">41%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +7% ; n: 43">11%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -2% ; n: 60">16%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #FF8138 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -19% ; n: 121">32%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 381">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
White
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -2% ; n: 495">25%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 61">3%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 361">18%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +3% ; n: 1 079">54%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 1 996">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;">
TOTAL 2000
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 712">28%</span>
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; n: 112">4%</span>
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ; n: 441">17%</span>
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 1 278">50%</span>
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 2 543">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Other
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; n: 165">29%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +3% ; n: 40">7%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -6% ; n: 65">11%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; n: 302">53%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 572">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Black
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #00bcd4 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +19% ; n: 270">47%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; n: 35">6%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; n: 102">18%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ff3d00 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -21% ; n: 173">30%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 580">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
White
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -6% ; n: 645">22%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 81">3%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 565">19%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +6% ; n: 1 695">57%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 2 986">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;">
TOTAL 2006
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 1 080">26%</span>
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ; n: 156">4%</span>
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; n: 732">18%</span>
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 2 170">52%</span>
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 4 138">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Other
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +10% ; n: 70">37%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; n: 11">6%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #FF8138 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -11% ; n: 13">7%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 96">51%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 190">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Black
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #00bcd4 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +16% ; n: 120">43%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 13">5%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +4% ; n: 59">21%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ff3d00 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -21% ; n: 85">31%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 277">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
White
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -2% ; n: 336">25%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 44">3%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 245">18%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; n: 719">53%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 1 344">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;">
TOTAL 2012
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; n: 526">29%</span>
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ; n: 68">4%</span>
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ; n: 317">18%</span>
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -2% ; n: 900">50%</span>
</td>
<td style="text-align:left;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 1 811">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;border-bottom: 1px solid">
TOTAL ENSEMBLE
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 2 318">27%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 336">4%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 1 490">18%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 4 348">51%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 8 492">100%</span>
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> <span style="     color: #888888 !important;">marital:
</span>x &gt; tot <b><span style="     color: #1AE6D6 !important;">+5%</span></b>; <b><span style="     color: #00bcd4 !important;">+10%</span></b>; <b><span style="     color: #1e88e5 !important;">+20%</span></b>; <b><span style="     color: #0019ff !important;">+30%</span></b>; x &lt; tot
<b><span style="     color: #ffb300 !important;">-5%</span></b>;
<b><span style="     color: #FF8138 !important;">-10%</span></b>;
<b><span style="     color: #ff3d00 !important;">-20%</span></b>;
<b><span style="     color: #cb0000 !important;">-30%</span></b>
</td>
</tr>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> Source: General social survey 2000, 2006 and 2012
</td>
</tr>
</tfoot>
</table>
<p>With <code>diff = &quot;first&quot;</code>, each row (or column) is compared to
the first row (or column), which is particularly helpful to highlight
historical evolutions. The first rows then appears in white (while
totals are themselves colored like normal lines).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.factor</span>(year))</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(data, year, marital, race, <span class="at">pct =</span> <span class="st">&quot;row&quot;</span>, <span class="at">color =</span> <span class="st">&quot;diff&quot;</span>, <span class="at">diff =</span> <span class="st">&quot;first&quot;</span>, <span class="at">tot =</span> <span class="st">&quot;col&quot;</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">totaltab =</span> <span class="st">&quot;table&quot;</span>)</span></code></pre></div>
<table style="border-top: 0; border-bottom: 0; font-family: DejaVu Sans Condensed; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-classic lightable-hover">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
year
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Never married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Separated
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Divorced
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;border-right:1px solid;border-left:1px solid;min-width: 20; ">
2000
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 60">36%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 8">5%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 20">12%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 78">47%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 166">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
2006
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -7% ; n: 165">29%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; n: 40">7%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 65">11%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +6% ; n: 302">53%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 572">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;">
2012
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 70">37%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 11">6%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -5% ; n: 13">7%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +4% ; n: 96">51%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 190">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-right:1px solid;border-left:1px solid;min-width: 20; ">
2000
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 157">41%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 43">11%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 60">16%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 121">32%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 381">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
2006
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +5% ; n: 270">47%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -5% ; n: 35">6%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; n: 102">18%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -2% ; n: 173">30%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 580">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;">
2012
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; n: 120">43%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -7% ; n: 13">5%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +6% ; n: 59">21%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 85">31%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 277">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-right:1px solid;border-left:1px solid;min-width: 20; ">
2000
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 495">25%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 61">3%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 361">18%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 1 079">54%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 1 996">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
2006
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -3% ; n: 645">22%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ; n: 81">3%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 565">19%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +3% ; n: 1 695">57%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 2 986">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;">
2012
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; n: 336">25%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; n: 44">3%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; n: 245">18%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 719">53%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 1 344">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-right:1px solid;border-left:1px solid;min-width: 20; ">
2000
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 712">28%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 112">4%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 441">17%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 1 278">50%</span>
</td>
<td style="text-align:left;font-weight: bold;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 2 543">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
2006
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -2% ; n: 1 080">26%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 156">4%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; n: 732">18%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; n: 2 170">52%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 4 138">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;border-bottom: 1px solid">
2012
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; n: 526">29%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 68">4%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; n: 317">18%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; n: 900">50%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 1 811">100%</span>
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> <span style="     color: #888888 !important;">marital:
</span>x &gt; x1 <b><span style="     color: #1AE6D6 !important;">+5%</span></b>; <b><span style="     color: #00bcd4 !important;">+10%</span></b>; <b><span style="     color: #1e88e5 !important;">+20%</span></b>; <b><span style="     color: #0019ff !important;">+30%</span></b>; x &lt; x1
<b><span style="     color: #ffb300 !important;">-5%</span></b>;
<b><span style="     color: #FF8138 !important;">-10%</span></b>;
<b><span style="     color: #ff3d00 !important;">-20%</span></b>;
<b><span style="     color: #cb0000 !important;">-30%</span></b>
</td>
</tr>
</tfoot>
</table>
</div>
<div id="confidence-intervals" class="section level2">
<h2>Confidence intervals</h2>
<p>It it possible to print confidence intervals for each cell:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(forcats<span class="sc">::</span>gss_cat, race, marital, <span class="at">pct =</span> <span class="st">&quot;row&quot;</span>, <span class="at">ci =</span> <span class="st">&quot;cell&quot;</span>)</span></code></pre></div>
<table style="border-top: 0; border-bottom: 0; font-family: DejaVu Sans Condensed; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-classic lightable-hover">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
race
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
No answer
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Never married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Separated
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Divorced
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Widowed
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Other
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; ci: ±0.3% ; n: 2">0%<span class="math inline">\(_{±0.3}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +7% ; ci: ±2.1% ; n: 633">32%<span class="math inline">\(_{±2.1}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ; ci: ±1.1% ; n: 110">6%<span class="math inline">\(_{±1.1}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -5% ; ci: ±1.5% ; n: 212">11%<span class="math inline">\(_{±1.5}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -5% ; ci: ±0.9% ; n: 70">4%<span class="math inline">\(_{±0.9}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; ci: ±2.2% ; n: 932">48%<span class="math inline">\(_{±2.2}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="ci: ±0% ; n: 1 959">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Black
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ; ci: ±0.2% ; n: 2">0%<span class="math inline">\(_{±0.2}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +16% ; ci: ±1.7% ; n: 1 305">42%<span class="math inline">\(_{±1.7}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +3% ; ci: ±0.9% ; n: 196">6%<span class="math inline">\(_{±0.9}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; ci: ±1.3% ; n: 495">16%<span class="math inline">\(_{±1.3}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ; ci: ±1.0% ; n: 262">8%<span class="math inline">\(_{±1.0}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -19% ; ci: ±1.6% ; n: 869">28%<span class="math inline">\(_{±1.6}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="ci: ±0% ; n: 3 129">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
White
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; ci: ±0.1% ; n: 13">0%<span class="math inline">\(_{±0.1}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -4% ; ci: ±0.6% ; n: 3 478">21%<span class="math inline">\(_{±0.6}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; ci: ±0.3% ; n: 437">3%<span class="math inline">\(_{±0.3}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; ci: ±0.6% ; n: 2 676">16%<span class="math inline">\(_{±0.6}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; ci: ±0.4% ; n: 1 475">9%<span class="math inline">\(_{±0.4}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +4% ; ci: ±0.8% ; n: 8 316">51%<span class="math inline">\(_{±0.8}\)</span></span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="ci: ±0% ; n: 16 395">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;border-bottom: 1px solid">
Total
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 17">0%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 5 416">25%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 743">3%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 3 383">16%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 1 807">8%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 10 117">47%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 21 483">100%</span>
</td>
</tr>
</tbody>
</table>
<p>It is also possible to use confidence intervals to enhance colors
helpers. With <code>color = &quot;diff_ci&quot;</code>, the cells are only colored
if the confidence interval of the difference between them and their
reference cell (in total or first row/col) is superior to the difference
itself. Otherwise, it means the cell is not significantly different from
it’s reference in the total (or first) row: it turns grey, and the
reader is not anymore tempted to over-interpret the difference.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(forcats<span class="sc">::</span>gss_cat, race, marital, <span class="at">pct =</span> <span class="st">&quot;row&quot;</span>, <span class="at">color =</span> <span class="st">&quot;diff_ci&quot;</span>)</span></code></pre></div>
<table style="border-top: 0; border-bottom: 0; font-family: DejaVu Sans Condensed; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-classic lightable-hover">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
race
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
No answer
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Never married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Separated
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Divorced
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Widowed
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Other
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ±0.2 ; n: 2">0%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +7% ±2.2 ; n: 633">32%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ±1.1 ; n: 110">6%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -5% ±1.5 ; n: 212">11%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -5% ±0.9 ; n: 70">4%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ±2.3 ; n: 932">48%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 1 959">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Black
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ±0.1 ; n: 2">0%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #00bcd4 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +16% ±1.8 ; n: 1 305">42%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +3% ±0.9 ; n: 196">6%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ±1.4 ; n: 495">16%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ±1.1 ; n: 262">8%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #FF8138 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -19% ±1.7 ; n: 869">28%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 3 129">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
White
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ±0.1 ; n: 13">0%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -4% ±0.9 ; n: 3 478">21%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ±0.3 ; n: 437">3%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ±0.7 ; n: 2 676">16%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ±0.6 ; n: 1 475">9%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +4% ±1.0 ; n: 8 316">51%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 16 395">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;border-bottom: 1px solid">
Total
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref  ; n: 17">0%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref  ; n: 5 416">25%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref  ; n: 743">3%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref  ; n: 3 383">16%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref  ; n: 1 807">8%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref  ; n: 10 117">47%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 21 483">100%</span>
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> <span style="     color: #888888 !important;">marital:
</span>|x-tot|&gt;ci &amp; x &gt; tot <b><span style="     color: #1AE6D6 !important;">+5%</span></b>; <b><span style="     color: #00bcd4 !important;">+10%</span></b>; <b><span style="     color: #1e88e5 !important;">+20%</span></b>; <b><span style="     color: #0019ff !important;">+30%</span></b>; |x-tot|&gt;ci
&amp; x &lt; tot <b><span style="     color: #ffb300 !important;">-5%</span></b>; <b><span style="     color: #FF8138 !important;">-10%</span></b>; <b><span style="     color: #ff3d00 !important;">-20%</span></b>; <b><span style="     color: #cb0000 !important;">-30%</span></b>
</td>
</tr>
</tfoot>
</table>
<p>Finally, another calculation appears helpful: the difference between
the cell and the total, minus the confidence interval of this difference
(or in other word, what remains of that difference after having
subtracted the confidence interval). <code>ci = &quot;after_ci&quot;</code>
highligths all the cells whose value is significantly different from the
relative total (or first cell). This is particularly useful when working
on small populations: we can see at a glance which numbers we have right
to read and interpret.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(forcats<span class="sc">::</span>gss_cat, race, marital, <span class="at">subtext =</span> gss, <span class="at">pct =</span> <span class="st">&quot;row&quot;</span>, <span class="at">color =</span> <span class="st">&quot;after_ci&quot;</span>)</span></code></pre></div>
<table style="border-top: 0; border-bottom: 0; font-family: DejaVu Sans Condensed; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-classic lightable-hover">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
race
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
No answer
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Never married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Separated
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Divorced
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Widowed
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Other
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ±0.2 ; n: 2">0%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +7% ±2.2 ; n: 633">32%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +2% ±1.1 ; n: 110">6%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -5% ±1.5 ; n: 212">11%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -5% ±0.9 ; n: 70">4%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ±2.3 ; n: 932">48%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 1 959">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Black
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ±0.1 ; n: 2">0%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #00bcd4 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +16% ±1.8 ; n: 1 305">42%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +3% ±0.9 ; n: 196">6%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ±1.4 ; n: 495">16%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -0% ±1.1 ; n: 262">8%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ff3d00 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -19% ±1.7 ; n: 869">28%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 3 129">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
White
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ±0.1 ; n: 13">0%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -4% ±0.9 ; n: 3 478">21%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ±0.3 ; n: 437">3%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ±0.7 ; n: 2 676">16%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ±0.6 ; n: 1 475">9%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +4% ±1.0 ; n: 8 316">51%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 16 395">100%</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;border-bottom: 1px solid">
Total
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref  ; n: 17">0%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref  ; n: 5 416">25%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref  ; n: 743">3%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref  ; n: 3 383">16%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref  ; n: 1 807">8%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref  ; n: 10 117">47%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 21 483">100%</span>
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> <span style="     color: #888888 !important;">marital:
</span>|x-tot| &gt; ci <b><span style="     color: #1AE6D6 !important;">+0%</span></b>; <b><span style="     color: #00bcd4 !important;">+5%</span></b>; <b><span style="     color: #1e88e5 !important;">+15%</span></b>; <b><span style="     color: #0019ff !important;">+25%</span></b>; |x-tot| &gt; ci
<b><span style="     color: #ffb300 !important;">-0%</span></b>;
<b><span style="     color: #FF8138 !important;">-5%</span></b>;
<b><span style="     color: #ff3d00 !important;">-15%</span></b>;
<b><span style="     color: #cb0000 !important;">-25%</span></b>
</td>
</tr>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> Source: General social survey 2000-2014
</td>
</tr>
</tfoot>
</table>
</div>
<div id="chi2-stats-and-contributions-of-cells-to-variance" class="section level2">
<h2>Chi2 stats and contributions of cells to variance</h2>
<p><code>chi2 = TRUE</code> add summary statistics made in the chi2
metric: degrees of freedom (df), unweighted count, pvalue and
(sub)table’s variance. Chi2 pvalue is colored in green when inferior to
5%, and in red when superior or equal to 5%, meaning that the table is
not significantly different from the independent hypothesis (the two
variables may be independent).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(forcats<span class="sc">::</span>gss_cat, race, marital, <span class="at">chi2 =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<table style="border-top: 0; border-bottom: 0; font-family: DejaVu Sans Condensed; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-classic lightable-hover">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
race
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
No answer
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Never married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Separated
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Divorced
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Widowed
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Other
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">2</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 4%">633</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 3%">110</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 3%">212</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 5%">70</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">932</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>1 959</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Black
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">2</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 34%">1
305</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 7%">196</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">495</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">262</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 25%">869</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>3 129</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
White
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">13</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 10%">3
478</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 3%">437</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">2
676</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 1%">1
475</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #111111 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 5%">8
316</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>16 395</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;border-bottom: 1px solid">
Total
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>17</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>5 416</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>743</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>3 383</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>1 807</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>10 117</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>21 483</span>
</td>
</tr>
</tbody>
</table>
<p>Chi2 stats can also be used to color cells based on their
contributions to the variance of the (sub)table, with
<code>color = &quot;contrib&quot;</code>. By default, only the cells whose
contribution is superior to the mean contribution are colored. It
highlights the cells which would stand out in a correspondence analysis
(the two related categories would be located at the edges of the first
axes ; here, being black is associated with never married and being
separated).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(forcats<span class="sc">::</span>gss_cat, race, marital, <span class="at">color =</span> <span class="st">&quot;contrib&quot;</span>)</span></code></pre></div>
<table style="border-top: 0; border-bottom: 0; font-family: DejaVu Sans Condensed; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-classic lightable-hover">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
race
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
No answer
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Never married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Separated
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Divorced
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Widowed
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Other
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">2</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 4%">633</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 3%">110</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 3%">212</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 5%">70</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">932</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>1 959</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Black
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">2</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1e88e5 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 34%">1 305</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 7%">196</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">495</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">262</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #FF8138 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 25%">869</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>3 129</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
White
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">13</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 10%">3 478</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 3%">437</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 0%">2
676</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 1%">1
475</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="contrib: 5%">8
316</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>16 395</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;border-bottom: 1px solid">
Total
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>17</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>5 416</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>743</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>3 383</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>1 807</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>10 117</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title>21 483</span>
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> <span style="     color: #888888 !important;">marital:
</span>contrib &gt; mean_ctr <b><span style="     color: #1AE6D6 !important;">×1</span></b>; <b><span style="     color: #00bcd4 !important;">×2</span></b>; <b><span style="     color: #1e88e5 !important;">×5</span></b>; <b><span style="     color: #0019ff !important;">×10</span></b>; contrib &gt;
mean_ctr <b><span style="     color: #ffb300 !important;">×1</span></b>;
<b><span style="     color: #FF8138 !important;">×2</span></b>; <b><span style="     color: #ff3d00 !important;">×5</span></b>; <b><span style="     color: #cb0000 !important;">×10</span></b>
</td>
</tr>
</tfoot>
</table>
</div>
<div id="combine-tabxplor-and-dplyr" class="section level2">
<h2>Combine tabxplor and dplyr</h2>
<p>The result of <code>tab</code> is a <code>tibble::tibble</code>
dataframe with class <code>tab</code>. It gets it’s own printing methods
but, in the same time, can be transformed using most dplyr verbs, like a
normal tibble.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(storms, category, status, <span class="at">sup_cols =</span> <span class="fu">c</span>(<span class="st">&quot;pressure&quot;</span>, <span class="st">&quot;wind&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(category <span class="sc">!=</span> <span class="st">&quot;-1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">tropical depression</span><span class="st">`</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">is_totrow</span>(.), <span class="fu">desc</span>(category)) <span class="co"># use is_totrow to keep total rows</span></span></code></pre></div>
<p>With <code>dplyr::arrange</code>, don’t forget to keep the order of
tab variables and total rows:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(data, race, marital, year, <span class="at">pct =</span> <span class="st">&quot;row&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year, <span class="fu">is_totrow</span>(.), <span class="fu">desc</span>(Married))</span></code></pre></div>
</div>
<div id="draw-more-complex-tables-with-tab_many" class="section level2">
<h2>Draw more complex tables with <code>tab_many</code></h2>
<p><code>tab</code> is a wrapper around the more powerful function
<code>tab_many</code>, which can be used to customize your tables.</p>
<p>It’s possible, for example, to make a summary table of as many
columns variables as you want (showing all levels, or showing only one
specific level like here):</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>first_lvs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Married&quot;</span>, <span class="st">&quot;$25000 or more&quot;</span>, <span class="st">&quot;Strong republican&quot;</span>, <span class="st">&quot;Protestant&quot;</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> forcats<span class="sc">::</span>gss_cat <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="fu">across</span>(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">where</span>(is.factor),</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> forcats<span class="sc">::</span><span class="fu">fct_relevel</span>(., first_lvs[first_lvs <span class="sc">%in%</span> <span class="fu">levels</span>(.)])</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>tabs <span class="ot">&lt;-</span> <span class="fu">tab_many</span>(data, race, <span class="fu">c</span>(marital, rincome, partyid, relig, age, tvhours),</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">levels =</span> <span class="st">&quot;first&quot;</span>, <span class="at">pct =</span> <span class="st">&quot;row&quot;</span>, <span class="at">chi2 =</span> <span class="cn">TRUE</span>, <span class="at">color =</span> <span class="st">&quot;auto&quot;</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>tabs</span></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="text-decoration: underline;">chi2 stats     marital   rincome   partyid     relig       age   tvhours</span>
#&gt; df                  12        32        20        30                    
#&gt; variance        0.0464    0.0092    0.1231    0.1299                    
#&gt; pvalue              <span style="color: #0000FF;">0%</span>        <span style="color: #0000FF;">0%</span>        <span style="color: #0000FF;">0%</span>        <span style="color: #0000FF;">0%</span>                    
#&gt; <span style="text-decoration: underline;">count           21 483    21 483    21 483    21 483    21 407    11 337</span>
#&gt; 
#&gt; <span style="color: #555555;"># A tabxplor tab: 4 × 8</span>
#&gt;   race  Married `$25000 or more` `Strong republ…` Protestant Total   age tvhours
#&gt;   <span style="color: #555555; font-style: italic;">&lt;cha&gt;</span>  <span style="color: #555555; font-style: italic;">&lt;row%&gt;</span>           <span style="color: #555555; font-style: italic;">&lt;row%&gt;</span>           <span style="color: #555555; font-style: italic;">&lt;row%&gt;</span>     <span style="color: #555555; font-style: italic;">&lt;row%&gt;</span> <span style="color: #555555; font-style: italic;">&lt;row&gt;</span> <span style="color: #555555; font-style: italic;">&lt;mea&gt;</span>  <span style="color: #555555; font-style: italic;">&lt;mean&gt;</span>
#&gt; <span style="color: #555555;">1</span> Other     <span style="color: #555555;">48%</span>              <span style="color: #555555;">32%</span>               <span style="color: #FFAF5F;">4%</span>        <span style="color: #FF0000;">20%</span>  100%    <span style="color: #FFAF5F;">39</span>       <span style="color: #555555;">3</span>
#&gt; <span style="color: #555555;">2</span> Black     <span style="color: #FF8700;">28%</span>              <span style="color: #FFAF5F;">28%</span>               <span style="color: #FFAF5F;">2%</span>        <span style="color: #0087FF;">73%</span>  100%    <span style="color: #555555;">44</span>       <span style="color: #5FFFFF;">4</span>
#&gt; <span style="color: #555555;">3</span> White     <span style="color: #555555;">51%</span>              <span style="color: #555555;">36%</span>              <span style="color: #555555;">13%</span>        <span style="color: #555555;">50%</span>  100%    <span style="color: #555555;">49</span>       <span style="color: #555555;">3</span>
#&gt; <span style="color: #555555;">4</span> Total     47%              34%              11%        50%  100%    47       3
#&gt; <span style="color: #555555;"># marital, rincome, partyid: </span>x &gt; tot <span style="color: #5FFFFF;">+5%</span><span style="color: #555555;">; </span><span style="color: #00D7FF;">+10%</span><span style="color: #555555;">; </span><span style="color: #0087FF;">+20%</span><span style="color: #555555;">; </span><span style="color: #0000FF;">+30%</span><span style="color: #555555;">; </span>x &lt; tot <span style="color: #FFAF5F;">-5%</span><span style="color: #555555;">; </span><span style="color: #FF8700;">-10%</span><span style="color: #555555;">; </span><span style="color: #FF5F5F;">-20%</span><span style="color: #555555;">; </span><span style="color: #FF0000;">-30%</span>
#&gt; <span style="color: #555555;"># age, tvhours             : </span>x &gt; tot <span style="color: #5FFFFF;">×1.15</span><span style="color: #555555;">; </span><span style="color: #00D7FF;">×1.5</span><span style="color: #555555;">; </span><span style="color: #0087FF;">×2</span><span style="color: #555555;">; </span><span style="color: #0000FF;">×4</span><span style="color: #555555;">; </span>x &lt; tot <span style="color: #FFAF5F;">/1.15</span><span style="color: #555555;">; </span><span style="color: #FF8700;">/1.5</span><span style="color: #555555;">; </span><span style="color: #FF5F5F;">/2</span><span style="color: #555555;">; </span><span style="color: #FF0000;">/4</span>
</code></pre>
<p>Using <code>tab</code> or <code>tab_many</code> with
<code>purrr::map</code> and <code>tibble::tribble</code>, you can
program several tables with different parameters all at once, in a
readable way:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>tabs <span class="ot">&lt;-</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">pmap</span>(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span>row_var, <span class="sc">~</span>col_vars       , <span class="sc">~</span>pct , <span class="sc">~</span>filter              , <span class="sc">~</span>subtext               ,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;race&quot;</span>  , <span class="st">&quot;marital&quot;</span>       , <span class="st">&quot;no&quot;</span> , <span class="cn">NULL</span>                 , <span class="st">&quot;Source: GSS 2000-2014&quot;</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;race&quot;</span>  , <span class="st">&quot;marital&quot;</span>       , <span class="st">&quot;row&quot;</span>, <span class="cn">NULL</span>                 , <span class="st">&quot;Source: GSS 2000-2014&quot;</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;race&quot;</span>  , <span class="st">&quot;marital&quot;</span>       , <span class="st">&quot;col&quot;</span>, <span class="cn">NULL</span>                 , <span class="st">&quot;Source: GSS 2000-2014&quot;</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;relig&quot;</span> , <span class="fu">c</span>(<span class="st">&quot;race&quot;</span>, <span class="st">&quot;age&quot;</span>), <span class="st">&quot;row&quot;</span>, <span class="st">&quot;year %in% 2000:2010&quot;</span>, <span class="st">&quot;Source: GSS 2000-2010&quot;</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;relig&quot;</span> , <span class="fu">c</span>(<span class="st">&quot;race&quot;</span>, <span class="st">&quot;age&quot;</span>), <span class="st">&quot;row&quot;</span>, <span class="st">&quot;year %in% 2010:2014&quot;</span>, <span class="st">&quot;Source: GSS 2010-2014&quot;</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>, <span class="st">&quot;race&quot;</span>     , <span class="st">&quot;no&quot;</span> , <span class="cn">NULL</span>                 , <span class="st">&quot;Source: GSS 2000-2014&quot;</span>,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">.f =</span> tab_many,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> forcats<span class="sc">::</span>gss_cat, <span class="at">color =</span> <span class="st">&quot;auto&quot;</span>, <span class="at">chi2 =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="export-to-html-or-excel" class="section level2">
<h2>Export to html or Excel</h2>
<p>To export a table to html with colors, like most of them in the
current vignette, tabxplor uses <code>knitr::kable</code> and
<code>kableExtra</code>. In this format differences from totals,
confidence intervals, contribution to variance, and unweighted counts,
are available in a tooltip at cells hover.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>tabs <span class="sc">%&gt;%</span> <span class="fu">tab_kable</span>()</span></code></pre></div>
<table style="border-top: 0; border-bottom: 0; font-family: DejaVu Sans Condensed; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-classic lightable-hover">
<thead>
<tr>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
race
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Married
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
$25000 or more
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Strong republican
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Protestant
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
Total
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
age
</th>
<th style="text-align:left;font-weight: bold;color: #000000 !important;border-top: 0px solid ; border-bottom: 1px solid ;">
tvhours
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Other
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +0% ; contrib: 0% ; n: 932">48%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -3% ; contrib: 2% ; n: 621">32%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -7% ; contrib: 3% ; n: 81">4%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #cb0000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -31% ; contrib: 13% ; n: 387">20%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 1 959">100%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×0.8 ; n: 1 951">39</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×0.9 ; n: 1 027">3</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
Black
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style=" font-weight: bold;    color: #FF8138 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -19% ; contrib: 25% ; n: 869">28%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -6% ; contrib: 16% ; n: 886">28%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style=" font-weight: bold;    color: #ffb300 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -9% ; contrib: 9% ; n: 56">2%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style=" font-weight: bold;    color: #1e88e5 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +22% ; contrib: 11% ; n: 2 271">73%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 3 129">100%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×0.9 ; n: 3 115">44</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style=" font-weight: bold;    color: #1AE6D6 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×1.4 ; n: 1 700">4</span>
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;border-left:1px solid;min-width: 20; ">
White
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +4% ; contrib: 5% ; n: 8 316">51%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +1% ; contrib: 5% ; n: 5 856">36%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: +3% ; contrib: 4% ; n: 2 177">13%</span>
</td>
<td style="text-align:left;white-space: nowrap;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: -1% ; contrib: 0% ; n: 8 188">50%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 16 395">100%</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×1.0 ; n: 16 341">49</span>
</td>
<td style="text-align:left;white-space: nowrap;border-right:1px solid;">
<span style="     color: #888888 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ×0.9 ; n: 8 610">3</span>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;border-right:1px solid;border-left:1px solid;min-width: 20; border-bottom: 1px solid ;border-bottom: 1px solid">
Total
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; mean_ctr: 6% ; n: 10 117">47%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; mean_ctr: 2% ; n: 7 363">34%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; mean_ctr: 3% ; n: 2 314">11%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; mean_ctr: 2% ; n: 10 846">50%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;min-width: 11; font-weight: bold;border-left:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="n: 21 483">100%</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 21 407">47</span>
</td>
<td style="text-align:left;font-weight: bold;border-top: 1px solid ; border-bottom: 1px solid ;white-space: nowrap;border-right:1px solid;border-bottom: 1px solid ;border-bottom: 1px solid">
<span style=" font-weight: bold;    color: #000000 !important;" data-toggle="tooltip" data-container="body" data-placement="right" title="diff: ref ; n: 11 337">3</span>
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> <span style="     color: #888888 !important;">marital,
rincome, partyid: </span>x &gt; tot <b><span style="     color: #1AE6D6 !important;">+5%</span></b>; <b><span style="     color: #00bcd4 !important;">+10%</span></b>; <b><span style="     color: #1e88e5 !important;">+20%</span></b>; <b><span style="     color: #0019ff !important;">+30%</span></b>; x &lt; tot
<b><span style="     color: #ffb300 !important;">-5%</span></b>;
<b><span style="     color: #FF8138 !important;">-10%</span></b>;
<b><span style="     color: #ff3d00 !important;">-20%</span></b>;
<b><span style="     color: #cb0000 !important;">-30%</span></b>
</td>
</tr>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup></sup> <span style="     color: #888888 !important;">age, tvhours :
</span>x &gt; tot <b><span style="     color: #1AE6D6 !important;">×1.15</span></b>; <b><span style="     color: #00bcd4 !important;">×1.5</span></b>; <b><span style="     color: #1e88e5 !important;">×2</span></b>; <b><span style="     color: #0019ff !important;">×4</span></b>; x &lt; tot
<b><span style="     color: #ffb300 !important;">/1.15</span></b>;
<b><span style="     color: #FF8138 !important;">/1.5</span></b>;
<b><span style="     color: #ff3d00 !important;">/2</span></b>; <b><span style="     color: #cb0000 !important;">/4</span></b>
</td>
</tr>
</tfoot>
</table>
<p>To print an html table by default (for example, in RStudio viewer),
use tabxplor options:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">tabxplor.print =</span> <span class="st">&quot;kable&quot;</span>) <span class="co"># default to options(tabxplor.print = &quot;console&quot;)</span></span></code></pre></div>
<p><code>tab_xl</code> exports any table or list of tables to Excel,
with all colors, chi2 stats and formatting. On Excel, it is still
possible to do calculations on raw numbers.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>tabs <span class="sc">%&gt;%</span> <span class="fu">tab_xl</span>(<span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">sheets =</span> <span class="st">&quot;unique&quot;</span>)</span></code></pre></div>
</div>
<div id="programming-with-tabxplor" class="section level2">
<h2>Programming with <code>tabxplor</code></h2>
<p>When not doing data analysis but writing functions, you can use the
sub-functions of <code>tab_many</code> step by step to attain more
flexibility or speed. That way, it’s possible to write new functions to
customize your tables even more.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>starwars <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_prepare</span>(sex, hair_color, gender, <span class="at">rare_to_other =</span> <span class="cn">TRUE</span>,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">n_min =</span> <span class="dv">5</span>, <span class="at">na =</span> <span class="st">&quot;keep&quot;</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_plain</span>(sex, hair_color, gender) <span class="sc">%&gt;%</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_totaltab</span>(<span class="st">&quot;line&quot;</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_tot</span>()  <span class="sc">%&gt;%</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_pct</span>(<span class="at">comp =</span> <span class="st">&quot;all&quot;</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_ci</span>(<span class="st">&quot;diff&quot;</span>, <span class="at">color =</span> <span class="st">&quot;after_ci&quot;</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_chi2</span>(<span class="at">calc =</span> <span class="st">&quot;p&quot;</span>)</span></code></pre></div>
<p>The whole architecture of <code>tabxplor</code> is powered by a
special vector class, named <code>fmt</code> for formatted numbers. As a
<code>vctrs::record</code>, it stores behind the scenes all the data
necessary to calculate printed results, formats and colors. A set of
functions are available to access or transform this data, like
<code>is_totrow</code>, <code>is_totcol</code> or
<code>is_tottab</code>. <code>?fmt</code> to get more information.</p>
<p>The simple way to recover the underlying numbers as numeric vectors
is <code>get_num</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(data, race, marital, year, <span class="at">pct =</span> <span class="st">&quot;row&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is_fmt), get_num))</span></code></pre></div>
<p>To render character vectors (without colors), use
<code>format</code>:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tab</span>(data, race, marital, year, <span class="at">pct =</span> <span class="st">&quot;row&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is_fmt), format))</span></code></pre></div>
<p>For the simplest table, with only numeric counts (no
<code>fmt</code>), or even as normal data.frame (not a
<code>tibble</code>):</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># combine with `tab_prepare` to handle missing values</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_plain</span>(data, race, marital, <span class="at">num =</span> <span class="cn">TRUE</span>) <span class="co"># counts as numeric vector</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_plain</span>(data, race, marital, <span class="at">df =</span> <span class="cn">TRUE</span>)  <span class="co"># same, with unique class = &quot;data.frame&quot;</span></span></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
